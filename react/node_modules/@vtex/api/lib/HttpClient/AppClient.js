"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const IOClient_1 = require("./IOClient");
const typings_1 = require("./typings");
/**
 * Used to perform calls on apps you declared a dependency for in your manifest.
 */
class AppClient extends IOClient_1.IOClient {
    constructor(app, context, options) {
        const { account, workspace, region } = context;
        const [vendor, name] = app.split('.'); // vtex.messages
        const service = [name, vendor].join('.'); // messages.vtex
        const baseURL = `http://${service}.${region}.vtex.io/${account}/${workspace}`;
        super(context, Object.assign({}, options, { authType: typings_1.AuthType.bearer, baseURL }));
    }
}
exports.AppClient = AppClient;
